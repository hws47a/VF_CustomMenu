<?php
/**
 * Vladimir Fishchenko extension for Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade
 * the VF CustomMenu module to newer versions in the future.
 * If you wish to customize the VF CustomMenu module for your needs
 * please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (C) 2012 Vladimir Fishchenko (http://fishchenko.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * Top menu for store
 *
 * @var $this VF_CustomMenu_Block_Navigation
 */

$_menu = $this->getMenuItems();
$_count = count($_menu);
$i = 0;

?>
<?php if($_menu): ?>
<nav id="nav">
    <ol class="nav-primary">
        <?php foreach ($_menu as $_menuItem): ?>
        <?php $additionalClass = ++$i == 1 ? ' first' : (($i == $_count) ? ' last' : '') ?>
        <li class="level0 level-top nav-<?php echo $i . $additionalClass ?>">
            <a
                    title="<?php echo $this->escapeHtml($_menuItem->getTitle()) ?>"
                    href="<?php echo $this->escapeUrl($this->getItemUrl($_menuItem)) ?>"
                    ><span><?php echo $this->escapeHtml($_menuItem->getLabel()) ?></span>
            </a>
            <?php echo $this->getDynamicBlock($_menuItem, $i) ?>
        </li>
        <?php endforeach ?>
    </ol>
</nav>
<?php endif ?>
